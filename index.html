<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Pardle Join Game Flow Demo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body {
      background: #111;
      color: #fff;
      font-family: -apple-system,BlinkMacSystemFont,"SF Pro Text",system-ui,sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      margin: 0;
    }
    .card {
      background: #1a1a1a;
      border-radius: 16px;
      padding: 32px 26px 26px;
      box-shadow: 0 6px 28px #0006;
      width: 340px;
      max-width: 98vw;
      text-align: center;
      transition: all .2s cubic-bezier(.6,0,.5,1);
    }
    h1 {
      font-weight: 800;
      letter-spacing: -1.3px;
      font-size: 2rem;
      margin-bottom: 12px;
    }
    .btn {
      background: #ff9800;
      color: #fff;
      font-weight: 700;
      font-size: 1.15rem;
      border: none;
      border-radius: 12px;
      padding: 13px 0;
      width: 100%;
      margin: 14px 0 2px;
      cursor: pointer;
      transition: background 0.14s;
      box-shadow: 0 2px 7px #0003;
    }
    .btn:active {
      background: #ffb74d;
    }
    .link {
      display: block;
      margin-top: 12px;
      color: #b9b9b9;
      font-size: 1rem;
      cursor: pointer;
      text-decoration: underline;
    }
    .input {
      background: #242424;
      color: #fff;
      border: 1.5px solid #444;
      border-radius: 10px;
      padding: 13px 10px;
      width: 100%;
      margin: 8px 0 8px 0;
      font-size: 1rem;
      transition: border 0.15s;
      outline: none;
      box-sizing: border-box;
    }
    .input:focus {
      border-color: #ff9800;
    }
    .players-list {
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin: 18px 0 10px;
      align-items: flex-start;
    }
    .player-pill {
      background: #333;
      color: #fff;
      padding: 8px 18px;
      border-radius: 20px;
      font-size: 1.03rem;
      font-weight: 500;
      box-shadow: 0 2px 7px #0002;
    }
    .waiting-msg {
      color: #ffd080;
      font-size: 1.02rem;
      margin-top: 5px;
      margin-bottom: 20px;
    }
    .fade { opacity: 0.5; pointer-events: none; }
    .hidden { display: none !important; }
  </style>
</head>
<body>
  <div class="card" id="homeScreen">
    <h1>Pardle</h1>
    <button class="btn" id="playBtn">Play</button>
    <span class="link" id="joinLink">Join Game</span>
  </div>
  <div class="card hidden" id="joinScreen">
    <h1>Join Game</h1>
    <input class="input" id="nameInput" placeholder="Your name" maxlength="16" autocomplete="off" />
    <input class="input" id="codeInput" placeholder="Game code (e.g. FROG7)" maxlength="8" autocomplete="off" style="text-transform:uppercase;" />
    <button class="btn" id="joinBtn">Join</button>
    <span class="link" id="backLink">Back</span>
    <div id="joinError" style="color:#e57373;margin-top:10px;font-size:.98rem;min-height:22px;"></div>
  </div>
  <div class="card hidden" id="waitingScreen">
    <h1>Waiting Room</h1>
    <div class="players-list" id="playersList"></div>
    <div class="waiting-msg">Waiting for host to start the gameâ€¦</div>
    <button class="btn" id="startBtn">Start Game</button>
  </div>
  <div class="card hidden" id="scorecardScreen">
    <h1>Scorecard</h1>
    <p style="color:#ccc">[Game begins here!]</p>
  </div>
  <script>
    // Demo in-memory player/game state
    let players = [];
    let myName = '';
    let isHost = false;

    // DOM
    const homeScreen = document.getElementById('homeScreen');
    const joinScreen = document.getElementById('joinScreen');
    const waitingScreen = document.getElementById('waitingScreen');
    const scorecardScreen = document.getElementById('scorecardScreen');
    const playBtn = document.getElementById('playBtn');
    const joinLink = document.getElementById('joinLink');
    const joinBtn = document.getElementById('joinBtn');
    const backLink = document.getElementById('backLink');
    const nameInput = document.getElementById('nameInput');
    const codeInput = document.getElementById('codeInput');
    const joinError = document.getElementById('joinError');
    const playersList = document.getElementById('playersList');
    const startBtn = document.getElementById('startBtn');

    // Navigation
    function show(screen) {
      [homeScreen, joinScreen, waitingScreen, scorecardScreen].forEach(s => s.classList.add('hidden'));
      screen.classList.remove('hidden');
    }

    playBtn.onclick = () => {
      // This demo is for join flow, but you could make Play auto-create/host a game
      show(joinScreen);
      nameInput.focus();
    };

    joinLink.onclick = () => {
      show(joinScreen);
      nameInput.focus();
    };

    backLink.onclick = () => {
      show(homeScreen);
      nameInput.value = '';
      codeInput.value = '';
      joinError.textContent = '';
    };

    joinBtn.onclick = () => {
      myName = nameInput.value.trim();
      const code = codeInput.value.trim().toUpperCase();

      if (!myName) {
        joinError.textContent = 'Enter your name';
        return;
      }
      if (!code || code.length < 4) {
        joinError.textContent = 'Enter a valid game code';
        return;
      }

      // Demo: Always "succeed"
      players = [myName, 'Charlie', 'Alex']; // Imagine live player list
      isHost = false;
      renderPlayersList();
      show(waitingScreen);
      joinError.textContent = '';
      setTimeout(() => {
        startBtn.classList.add('fade');
      }, 10);

      // In real app: check backend, join, fetch players, subscribe to updates!
    };

    function renderPlayersList() {
      playersList.innerHTML = '';
      players.forEach(p => {
        const pill = document.createElement('div');
        pill.className = 'player-pill';
        pill.textContent = p === myName ? p + ' (you)' : p;
        playersList.appendChild(pill);
      });
      startBtn.style.display = isHost ? 'block' : 'none';
    }

    startBtn.onclick = () => {
      show(scorecardScreen);
    };

    // Enter key shortcuts
    [nameInput, codeInput].forEach(input => {
      input.addEventListener('keyup', e => {
        if (e.key === 'Enter') joinBtn.click();
      });
    });
  </script>
</body>
</html>
