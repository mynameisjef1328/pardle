<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Wordle Golf Scorecard</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      background: #f9f9f9;
    }
    table {
      border-collapse: collapse;
      width: 100%;
    }
    th, td {
      border: 1px solid #ccc;
      padding: 8px;
      text-align: center;
      vertical-align: middle;
    }
    th {
      background-color: #999;
      color: white;
    }
    .under-par {
      background-color: lightgreen;
    }
    .over-par {
      background-color: lightcoral;
    }
    .even-par {
      background-color: white;
    }
    input[type="number"] {
      width: 50px;
      text-align: center;
    }
    input[type="text"] {
      width: 100px;
    }
  </style>
</head>
<body>
  <h2>Wordle Golf Scorecard</h2>

  <label for="courseSelect">Choose a course:</label>
  <select id="courseSelect"></select>

  <table id="scorecard">
    <thead>
      <tr>
        <th>Player</th>
        <th colspan="18">Hole</th>
        <th>Par</th>
        <th>Total</th>
        <th>+/-</th>
      </tr>
      <tr>
        <th></th>
        <script>
          for (let i = 1; i <= 18; i++) {
            document.write(`<th>${i}</th>`);
          }
        </script>
        <th></th>
        <th></th>
        <th></th>
      </tr>
      <tr id="parRow">
        <th>Par</th>
      </tr>
    </thead>
    <tbody>
      <script>
        const courses = {
          'Pebble Beach': [4,4,3,4,5,4,4,3,5,4,3,4,5,4,4,3,4,5],
          'St. Andrews':  [4,5,4,3,4,4,5,3,4,4,3,5,4,4,3,4,5,4],
          'August Alphabet': [5,4,3,4,5,3,4,4,4,3,5,4,4,3,4,5,4,3],
          'Pine Valley':  [4,3,5,4,4,3,4,5,4,4,3,4,4,5,3,4,5,4],
          'Torrey Pines': [4,4,5,3,4,5,4,3,4,4,4,5,3,4,4,5,3,4],
          'TPC Sawgrass': [4,4,3,5,4,3,4,5,4,3,4,5,4,4,3,5,4,3],
          'Bethpage Black': [4,5,3,4,4,5,4,4,3,4,5,3,4,4,5,3,4,4],
          'Whistling Words': [4,3,5,4,4,5,3,4,4,5,4,3,4,4,5,4,3,4],
          'Kiawah Clues': [4,4,5,3,4,3,4,5,4,4,4,5,3,4,4,5,3,4],
          'Bully Big Words': [3,4,5,4,3,5,4,4,4,5,4,3,4,5,4,4,3,4]
        };

        const parRow = document.getElementById('parRow');
        const courseSelect = document.getElementById('courseSelect');

        Object.keys(courses).forEach(course => {
          const option = document.createElement('option');
          option.value = course;
          option.textContent = course;
          courseSelect.appendChild(option);
        });

        function updateParRow(parValues) {
          parRow.innerHTML = '<th>Par</th>';
          let totalPar = 0;
          parValues.forEach(par => {
            totalPar += par;
            const th = document.createElement('th');
            th.textContent = par;
            parRow.appendChild(th);
          });
          const totalParCell = document.createElement('th');
          totalParCell.textContent = totalPar;
          parRow.appendChild(totalParCell);

          parRow.innerHTML += '<th></th>';
        }

        function buildPlayerRow(name = '') {
          const row = document.createElement('tr');

          const nameCell = document.createElement('td');
          const nameInput = document.createElement('input');
          nameInput.type = 'text';
          nameInput.value = name;
          nameCell.appendChild(nameInput);
          row.appendChild(nameCell);

          for (let i = 0; i < 18; i++) {
            const cell = document.createElement('td');
            const input = document.createElement('input');
            input.type = 'number';
            input.min = 1;
            input.style.textAlign = 'center';
            input.addEventListener('input', () => calculate(row));
            cell.appendChild(input);
            row.appendChild(cell);
          }

          const parCell = document.createElement('td');
          parCell.textContent = '';
          row.appendChild(parCell);

          const totalCell = document.createElement('td');
          totalCell.className = 'total';
          totalCell.textContent = '0';
          row.appendChild(totalCell);

          const diffCell = document.createElement('td');
          diffCell.className = 'diff';
          diffCell.textContent = '0';
          row.appendChild(diffCell);

          return row;
        }

        function calculate(row) {
          const inputs = row.querySelectorAll('input[type="number"]');
          let total = 0;
          let parTotal = 0;

          inputs.forEach((input, index) => {
            const val = parseInt(input.value);
            const par = currentPar[index];
            const cell = input.parentElement;
            cell.className = '';
            if (!isNaN(val)) {
              total += val;
              parTotal += par;
              if (val < par) cell.className = 'under-par';
              else if (val > par) cell.className = 'over-par';
              else cell.className = 'even-par';
            }
          });

          row.querySelector('.total').textContent = total || '0';
          const diff = total ? total - parTotal : 0;
          row.querySelector('.diff').textContent = diff > 0 ? `+${diff}` : diff < 0 ? `${diff}` : '0';
        }

        const tbody = document.querySelector('tbody');
        let currentPar = courses[courseSelect.value];

        function loadScorecard(courseName) {
          tbody.innerHTML = '';
          currentPar = courses[courseName];
          updateParRow(currentPar);
          for (let i = 1; i <= 4; i++) {
            const row = buildPlayerRow(`Player ${i}`);
            tbody.appendChild(row);
          }
        }

        courseSelect.addEventListener('change', (e) => loadScorecard(e.target.value));

        loadScorecard(courseSelect.value);
      </script>
    </tbody>
  </table>
</body>
</html>
